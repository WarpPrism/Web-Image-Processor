function HCI(){var a=document.getElementById("file"),t=document.getElementById("openBtn");addHandler(t,"click",function(){a.click()},!1),a.onchange=function(){getFilePath(G.img,this,null),G.img.onload=function(){imread(G.img)}};var e=$("#chart").get(0).getContext("2d"),n={datasets:[{fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,1)",data:[65,59,90,81,56,55,40]},{fillColor:"rgba(151,187,205,0.5)",strokeColor:"rgba(151,187,205,1)",data:[28,48,40,19,96,27,100]}]};new Chart(e).Bar(n)}function getRChannel(){var a=[];null===G.img_data&&console.log("No ImageData");for(var t=0;t<G.img_data.data.length;t+=4)a.push(G.img_data.data[t]);return a}function getGChannel(){var a=[];null===G.img_data&&console.log("No ImageData");for(var t=1;t<G.img_data.data.length;t+=4)a.push(G.img_data.data[t]);return a}function getBChannel(){var a=[];null===G.img_data&&console.log("No ImageData");for(var t=2;t<G.img_data.data.length;t+=4)a.push(G.img_data.data[t]);return a}function showRedImg(){for(var a=getRChannel(),t=G.cxt.createImageData(G.img_width,G.img_height),e=[],n=0,i=0;n<G.img_data_length;n+=4,i++)e[n]=a[i],e[n+1]=0,e[n+2]=0,e[n+3]=255;t.data.set(e),G.cxt.clearRect(0,0,G.canvas.width,G.canvas.height),G.cxt.putImageData(t,0,0,0,0,G.img_width,G.img_height)}function showGreenImg(){for(var a=getGChannel(),t=G.cxt.createImageData(G.img_width,G.img_height),e=[],n=0,i=0;n<G.img_data_length;n+=4,i++)e[n]=0,e[n+1]=a[i],e[n+2]=0,e[n+3]=255;t.data.set(e),G.cxt.clearRect(0,0,G.canvas.width,G.canvas.height),G.cxt.putImageData(t,0,0,0,0,G.img_width,G.img_height)}function showBlueImg(){for(var a=getBChannel(),t=G.cxt.createImageData(G.img_width,G.img_height),e=[],n=0,i=0;n<G.img_data_length;n+=4,i++)e[n]=0,e[n+1]=0,e[n+2]=a[i],e[n+3]=255;t.data.set(e),G.cxt.clearRect(0,0,G.canvas.width,G.canvas.height),G.cxt.putImageData(t,0,0,0,0,G.img_width,G.img_height)}function addHandler(a,t,e){a.addEventListener?a.addEventListener(t,e,!1):a.attachEvent?a.attachEvent("on"+t,e):a["on"+t]=e}function resizeCanvas(a,t){G.canvas.width=a,G.canvas.height=t}function getFilePath(a,t,e){if(window.navigator.userAgent.indexOf("MSIE")>=1){a.select();var n=document.selection.createRange().text;a.removeAttribute("src"),a.setAttribute("src",e),a.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+n+"', sizingMethod='scale');"}else{var i=t.files[0],g=new FileReader;g.onload=function(t){a.setAttribute("src",t.target.result)},g.readAsDataURL(i)}}function imread(a){G.cxt.clearRect(0,0,G.canvas.width,G.canvas.height);var t=a.width,e=a.height;resizeCanvas(t,e),G.cxt.drawImage(a,0,0,t,e),G.img_data=G.cxt.getImageData(0,0,G.canvas.width,G.canvas.height),G.img_width=G.img_data.width,G.img_height=G.img_data.height,G.img_data_length=G.img_width*G.img_height*4,console.log(G)}var G={name:"Global Space"};G.canvas=document.getElementById("canvas"),G.cxt=G.canvas.getContext("2d"),G.img=new Image,G.img_data=null,G.img_width=0,G.img_height=0,G.img_data_length=0,window.onload=function(){HCI()}();